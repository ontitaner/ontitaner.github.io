---
layout : post
title : "Jenkins构建"
category : Jenkins
duoshuo: true
date : 2018-02-23
tags : [Jenkins ]
SyntaxHihglighter: true
shTheme: shThemeMidnight # shThemeDefault  shThemeDjango  shThemeEclipse  shThemeEmacs  shThemeFadeToGrey  shThemeMidnight  shThemeRDark
---

Jenkins的一些构建脚本

<!-- more -->

<pre class="brush: c; ">
	call "C:\Program Files (x86)\Microsoft Visual Studio 9.0\Common7\Tools\vsvars32.bat" x86
	cd /d %WORKSPACE%\src\scada_app\pycalc_lib
	call autocfg.bat
	devenv.com pycalc_lib.vcproj /build "Debug|Win32"

	cd /d %WORKSPACE%\src\PyCalEngine
	call autocfg.bat
	devenv.com PyCalEngine.vcproj /build "Debug|Win32"
	cd %WORKSPACE%

	echo F|xcopy "bin\pycalc_lib_d.pyd" "\bin\pycalc_lib_d.pyd" /E /Y /C
	echo F|xcopy "bin\PyCalEngine.exe" "bin\PyCalEngine.exe" /E /Y /C
	echo F|xcopy  "CalScript\cal_windfarm_capacity.cal" "CalScript\cal_windfarm_capacity.cal" /E /Y /C
	echo D|xcopy "db\sql\hotfix" "db\sql\hotfix" /E /Y /C

	cd %WORKSPACE%\workspace
	if exist hotfix.zip(del /f hotfix.zip)
	"C:\Program Files\7-Zip\7z.exe" a "hotfix.zip" bin tools db
	cd %WORKSPACE%
	move %WORKSPACE%\workspace\hotfix.zip %WORKSPACE%\
</pre>

